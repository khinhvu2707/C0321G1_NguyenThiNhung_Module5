<div class="alert alert-warning" role="alert" [hidden]="isDisabled" style="background-color: #8ADA9E">
  Congratulations on your successful registration !
</div>
<form [formGroup]="registerForm" class="col-md-6 offset-md-3">
  <div class="mb-3">
    <label for="email" class="form-label">Email</label>
    <input formControlName="email" type="email" class="form-control" id="email"
           aria-describedby="emailHelp">
  </div>
  <div style="color: red"
       *ngIf="!registerForm.controls.email?.valid && (registerForm.controls.email?.dirty
           ||registerForm.controls.email?.touched)">
    Email is not valid!
  </div>
  <div formGroupName="pwForm">
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input formControlName="password" type="email" class="form-control" id="password"
             aria-describedby="emailHelp">
    </div>
    <div
      *ngIf="!registerForm.get('pwForm').get('password').valid && (registerForm.get('pwForm').get('password').dirty || (registerForm.get('pwForm').get('password').touched))">
      <div [hidden]="!registerForm.get('pwForm').get('password').errors.required">
        <p style="color: red">Confirm Password is required!</p>
      </div>
      <div [hidden]="registerForm.get('pwForm').get('password').errors.minLength">
        <p style="color: red">Invalid confirm password length (min =6)!</p>
      </div>
    </div>
    <div class="mb-3">
      <label for="confirmPassword" class="form-label">Confirm Password</label>
      <input formControlName="confirmPassword" type="email" class="form-control" id="confirmPassword"
             aria-describedby="emailHelp">
    </div>
    <div
      *ngIf="registerForm.get('pwForm').get('confirmPassword').invalid && (registerForm.get('pwForm').get('confirmPassword').dirty || (registerForm.get('pwForm').get('confirmPassword').touched))">
      <div [hidden]="!registerForm.get('pwForm').get('confirmPassword').errors.required">
        <p style="color: red">Confirm Password is required!</p>
      </div>
      <div [hidden]="registerForm.get('pwForm').get('confirmPassword').errors.minLength">
        <p style="color: red">Invalid confirm password length (min=6)!</p>
      </div>
    </div>
    <div
      *ngIf="registerForm.hasError('passwordsNotEqual', ['pwForm']) && (registerForm.get('pwForm').get('confirmPassword').dirty || (registerForm.get('pwForm').get('confirmPassword').touched))">
      <p style="color: red">Password does not match!</p>
    </div>
  </div>
  <p>
    <label for="country">Country </label>
    <select class="form-select form-select-lg mb-3" aria-label=".form-select-lg example" id="country" name="country"
            formControlName="country">
      <option [ngValue]="c.name" *ngFor="let c of countryList">{{c.name}}</option>
    </select>
  </p>
  <div style="color: red"
       *ngIf="!registerForm.controls.country?.valid && (registerForm.controls.country?.dirty
           ||registerForm.controls.country?.touched)">
    Country is required!
  </div>
  <div class="mb-3">
    <label for="age" class="form-label">Age</label>
    <input formControlName="age" type="email" class="form-control" id="age"
           aria-describedby="emailHelp">
  </div>
  <div
    *ngIf="!registerForm.controls.age?.valid && (registerForm.controls.age?.dirty || registerForm.controls.age?.touched)">
    <div [hidden]="!registerForm.controls.age.errors.required">
      <p style="color: red">Age is required!</p>
    </div>
    <div [hidden]="!registerForm.controls.age.errors.min">
      <p style="color: red">Invalid age size!</p>
    </div>
  </div>
  <p>
    <label>Gender </label>
    <input type="radio" value="male" name="gender" formControlName="gender"> Male
    <input type="radio" value="female" name="gender" formControlName="gender"> Female
  </p>
  <div style="color: red"
       *ngIf="!registerForm.controls.gender?.valid && (registerForm.controls.gender?.dirty
           ||registerForm.controls.gender?.touched)">
    Gender is required!
  </div>
  <div class="mb-3">
    <label for="phone" class="form-label">Phone</label>
    <input formControlName="phone" type="email" class="form-control" id="phone"
           aria-describedby="emailHelp">
  </div>
  <div
    *ngIf="!registerForm.controls.age?.valid && (registerForm.controls.age?.dirty || registerForm.controls.age?.touched)">
    <div [hidden]="!registerForm.controls.age.errors.required">
      <p style="color: red">Phone is required!</p>
    </div>
    <div [hidden]="!registerForm.controls.age.errors.min">
      <p style="color: red">Phone is not Valid (+84xxxxxxxxx - +84xxxxxxxxxx)!</p>
    </div>
  </div>

  <div class="form-group">
    <button (click)="onSubmit()" type="submit" class="btn m-2" style="background-color: #8ADA9E"
            [disabled]="!registerForm.valid">
      Register
    </button>
  </div>
</form>
